(function(le,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],i):(le=typeof globalThis<"u"?globalThis:le||self,i(le.Vue3TableData={},le.Vue))})(this,function(le,i){"use strict";const Gt={key:0},qt={style:{width:"100%",height:"100%"},viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kt=[i.createElementVNode("path",{d:"M16.6667 9.16797H3.33333C2.87333 9.16797 2.5 9.5413 2.5 10.0013C2.5 10.4613 2.87333 10.8346 3.33333 10.8346H16.6667C17.1267 10.8346 17.5 10.4613 17.5 10.0013C17.5 9.5413 17.1267 9.16797 16.6667 9.16797Z",fill:"currentColor"},null,-1)],Qt={key:1},Jt={style:{width:"100%",height:"100%"},viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},en=[i.createElementVNode("path",{d:"M11.3333 5.33333H6.66667V0.666667C6.66667 0.298667 6.368 0 6 0C5.632 0 5.33333 0.298667 5.33333 0.666667V5.33333H0.666667C0.298667 5.33333 0 5.632 0 6C0 6.368 0.298667 6.66667 0.666667 6.66667H5.33333V11.3333C5.33333 11.7013 5.632 12 6 12C6.368 12 6.66667 11.7013 6.66667 11.3333V6.66667H11.3333C11.7013 6.66667 12 6.368 12 6C12 5.632 11.7013 5.33333 11.3333 5.33333Z",fill:"currentColor"},null,-1)],tn={key:2},nn={style:{width:"100%",height:"100%"},viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on=[i.createElementVNode("circle",{cx:"9",cy:"9",r:"8.25",fill:"white",stroke:"currentColor","stroke-width":"1.5"},null,-1)],rn={key:3},ln={style:{width:"100%",height:"100%"},viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},an=[i.createElementVNode("circle",{cx:"9",cy:"9",r:"8.25",fill:"white",stroke:"currentColor","stroke-width":"1.5"},null,-1),i.createElementVNode("circle",{cx:"9",cy:"9",r:"5",fill:"currentColor"},null,-1)],sn={key:4},cn={style:{width:"100%",height:"100%"},viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},dn=[i.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.07997 7.07993V8.91993H12.92V7.07993H3.07997ZM2.21457 5.94512C2.45226 5.79232 2.73965 5.71992 3.02219 5.71992H12.9777C13.2603 5.71992 13.5477 5.79232 13.7854 5.94512C14.0156 6.09316 14.28 6.37949 14.28 6.79993V9.19993C14.28 9.62036 14.0156 9.90669 13.7854 10.0547C13.5477 10.2075 13.2603 10.2799 12.9777 10.2799H3.02219C2.73965 10.2799 2.45226 10.2075 2.21457 10.0547C1.9843 9.9067 1.71997 9.62036 1.71997 9.19993V6.79993C1.71997 6.37949 1.9843 6.09316 2.21457 5.94512Z",fill:"black"},null,-1)],un={key:5},fn={style:{width:"100%",height:"100%"},viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hn=[i.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.07997 6.27992V9.71992H12.92V6.27992H3.07997ZM1.71997 6.19992C1.71997 5.47007 2.32669 4.91992 3.02219 4.91992H12.9777C13.6732 4.91992 14.28 5.47007 14.28 6.19992V9.79992C14.28 10.5298 13.6732 11.0799 12.9777 11.0799H3.02219C2.32669 11.0799 1.71997 10.5298 1.71997 9.79992V6.19992Z",fill:"black"},null,-1)],mn={key:6},gn={style:{width:"100%",height:"100%"},viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pn=[i.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.10301 5.47992C3.09154 5.50566 3.07997 5.54589 3.07997 5.59992V10.3999C3.07997 10.454 3.09154 10.4942 3.10301 10.5199H12.8969C12.9084 10.4942 12.92 10.454 12.92 10.3999V5.59992C12.92 5.54589 12.9084 5.50566 12.8969 5.47992H3.10301ZM1.71997 5.59992C1.71997 4.95171 2.15403 4.11992 3.02219 4.11992H12.9777C13.8459 4.11992 14.28 4.95171 14.28 5.59992V10.3999C14.28 11.0481 13.8459 11.8799 12.9777 11.8799H3.02219C2.15403 11.8799 1.71997 11.0481 1.71997 10.3999V5.59992Z",fill:"black"},null,-1)],_n={key:7},bn={style:{width:"100%",height:"100%"},viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Cn=[i.createElementVNode("rect",{width:"18",height:"18",rx:"4",fill:"#5664E1"},null,-1),i.createElementVNode("path",{d:"M14.2203 4.89348C14.0471 4.89864 13.8827 4.97103 13.762 5.0953L6.9 11.9573L4.70469 9.76197C4.64326 9.69799 4.56968 9.6469 4.48826 9.61171C4.40684 9.57652 4.31922 9.55793 4.23052 9.55703C4.14183 9.55613 4.05385 9.57293 3.97173 9.60646C3.88961 9.63998 3.81501 9.68956 3.75229 9.75228C3.68957 9.815 3.64 9.8896 3.60647 9.97172C3.57294 10.0538 3.55614 10.1418 3.55704 10.2305C3.55794 10.3192 3.57653 10.4068 3.61172 10.4882C3.64691 10.5697 3.698 10.6432 3.76198 10.7047L6.42864 13.3713C6.55367 13.4963 6.72322 13.5665 6.9 13.5665C7.07678 13.5665 7.24632 13.4963 7.37135 13.3713L14.7047 6.03801C14.801 5.94437 14.8668 5.82381 14.8935 5.69213C14.9201 5.56045 14.9063 5.42379 14.854 5.30007C14.8016 5.17634 14.7131 5.07132 14.6 4.99877C14.487 4.92622 14.3546 4.88952 14.2203 4.89348Z",fill:"white"},null,-1)],yn={key:8},wn={style:{width:"100%",height:"100%"},viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},En=[i.createElementVNode("path",{d:"M5.99984 13.3334C5.63317 13.3334 5.31928 13.2029 5.05817 12.9417C4.79706 12.6806 4.6665 12.3667 4.6665 12.0001C4.6665 11.6334 4.79706 11.3195 5.05817 11.0584C5.31928 10.7973 5.63317 10.6667 5.99984 10.6667C6.3665 10.6667 6.68039 10.7973 6.9415 11.0584C7.20261 11.3195 7.33317 11.6334 7.33317 12.0001C7.33317 12.3667 7.20261 12.6806 6.9415 12.9417C6.68039 13.2029 6.3665 13.3334 5.99984 13.3334ZM9.99984 13.3334C9.63317 13.3334 9.31928 13.2029 9.05817 12.9417C8.79706 12.6806 8.6665 12.3667 8.6665 12.0001C8.6665 11.6334 8.79706 11.3195 9.05817 11.0584C9.31928 10.7973 9.63317 10.6667 9.99984 10.6667C10.3665 10.6667 10.6804 10.7973 10.9415 11.0584C11.2026 11.3195 11.3332 11.6334 11.3332 12.0001C11.3332 12.3667 11.2026 12.6806 10.9415 12.9417C10.6804 13.2029 10.3665 13.3334 9.99984 13.3334ZM5.99984 9.33342C5.63317 9.33342 5.31928 9.20286 5.05817 8.94175C4.79706 8.68064 4.6665 8.36675 4.6665 8.00008C4.6665 7.63341 4.79706 7.31953 5.05817 7.05841C5.31928 6.7973 5.63317 6.66675 5.99984 6.66675C6.3665 6.66675 6.68039 6.7973 6.9415 7.05841C7.20261 7.31953 7.33317 7.63341 7.33317 8.00008C7.33317 8.36675 7.20261 8.68064 6.9415 8.94175C6.68039 9.20286 6.3665 9.33342 5.99984 9.33342ZM9.99984 9.33342C9.63317 9.33342 9.31928 9.20286 9.05817 8.94175C8.79706 8.68064 8.6665 8.36675 8.6665 8.00008C8.6665 7.63341 8.79706 7.31953 9.05817 7.05841C9.31928 6.7973 9.63317 6.66675 9.99984 6.66675C10.3665 6.66675 10.6804 6.7973 10.9415 7.05841C11.2026 7.31953 11.3332 7.63341 11.3332 8.00008C11.3332 8.36675 11.2026 8.68064 10.9415 8.94175C10.6804 9.20286 10.3665 9.33342 9.99984 9.33342ZM5.99984 5.33341C5.63317 5.33341 5.31928 5.20286 5.05817 4.94175C4.79706 4.68064 4.6665 4.36675 4.6665 4.00008C4.6665 3.63341 4.79706 3.31953 5.05817 3.05841C5.31928 2.7973 5.63317 2.66675 5.99984 2.66675C6.3665 2.66675 6.68039 2.7973 6.9415 3.05841C7.20261 3.31953 7.33317 3.63341 7.33317 4.00008C7.33317 4.36675 7.20261 4.68064 6.9415 4.94175C6.68039 5.20286 6.3665 5.33341 5.99984 5.33341ZM9.99984 5.33341C9.63317 5.33341 9.31928 5.20286 9.05817 4.94175C8.79706 4.68064 8.6665 4.36675 8.6665 4.00008C8.6665 3.63341 8.79706 3.31953 9.05817 3.05841C9.31928 2.7973 9.63317 2.66675 9.99984 2.66675C10.3665 2.66675 10.6804 2.7973 10.9415 3.05841C11.2026 3.31953 11.3332 3.63341 11.3332 4.00008C11.3332 4.36675 11.2026 4.68064 10.9415 4.94175C10.6804 5.20286 10.3665 5.33341 9.99984 5.33341Z",fill:"#303136"},null,-1)],vn={key:9},kn={style:{width:"100%",height:"100%"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Dn=[i.createElementVNode("path",{d:"M9 2C5.14585 2 2 5.14585 2 9C2 12.8541 5.14585 16 9 16C10.748 16 12.345 15.348 13.5742 14.2812L14 14.707V16L19.5859 21.5859C20.1379 22.1379 21.0339 22.1379 21.5859 21.5859C22.1379 21.0339 22.1379 20.1379 21.5859 19.5859L16 14H14.707L14.2812 13.5742C15.348 12.345 16 10.748 16 9C16 5.14585 12.8541 2 9 2ZM9 4C11.7733 4 14 6.22673 14 9C14 11.7733 11.7733 14 9 14C6.22673 14 4 11.7733 4 9C4 6.22673 6.22673 4 9 4Z",fill:"currentColor"},null,-1)],Sn={key:10},xn={style:{width:"100%",height:"100%"},viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Tn=[i.createElementVNode("path",{d:"M2.49984 2.5C2.039 2.5 1.6665 2.8725 1.6665 3.33333V16.6667C1.6665 17.1275 2.039 17.5 2.49984 17.5H5.83317V2.5H2.49984ZM7.49984 2.5V17.5H12.4998V2.5H7.49984ZM14.1665 2.5V17.5H17.4998C17.9607 17.5 18.3332 17.1275 18.3332 16.6667V3.33333C18.3332 2.8725 17.9607 2.5 17.4998 2.5H14.1665Z",fill:"#303136"},null,-1)],Nn={key:11},Bn={style:{width:"100%",height:"100%"},viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Vn=[i.createElementVNode("path",{d:"M8.74188 1.66669C8.34271 1.66669 8.00149 1.94885 7.92482 2.34052L7.6465 3.76955C6.96253 4.02819 6.3301 4.38952 5.77475 4.8454L4.40431 4.37339C4.02681 4.24339 3.61147 4.39949 3.41147 4.74449L2.15496 6.92222C1.9558 7.26805 2.02828 7.7071 2.32912 7.96877L3.42775 8.92417C3.37061 9.2753 3.33335 9.63276 3.33335 10C3.33335 10.3673 3.37061 10.7247 3.42775 11.0759L2.32912 12.0313C2.02828 12.2929 1.9558 12.732 2.15496 13.0778L3.41147 15.2556C3.61064 15.6014 4.02681 15.7574 4.40431 15.6283L5.77475 15.1563C6.32992 15.6119 6.96284 15.972 7.6465 16.2305L7.92482 17.6595C8.00149 18.0512 8.34271 18.3334 8.74188 18.3334H11.2582C11.6573 18.3334 11.9985 18.0512 12.0752 17.6595L12.3535 16.2305C13.0375 15.9719 13.6699 15.6105 14.2253 15.1546L15.5957 15.6266C15.9732 15.7566 16.3886 15.6014 16.5886 15.2556L17.8451 13.0762C18.0442 12.7304 17.9717 12.2929 17.6709 12.0313L16.5723 11.0759C16.6294 10.7247 16.6667 10.3673 16.6667 10C16.6667 9.63276 16.6294 9.2753 16.5723 8.92417L17.6709 7.96877C17.9717 7.7071 18.0442 7.26805 17.8451 6.92222L16.5886 4.74449C16.3894 4.39865 15.9732 4.2426 15.5957 4.37177L14.2253 4.84377C13.6701 4.38818 13.0372 4.02807 12.3535 3.76955L12.0752 2.34052C11.9985 1.94885 11.6573 1.66669 11.2582 1.66669H8.74188ZM10 6.66669C11.8408 6.66669 13.3333 8.15919 13.3333 10C13.3333 11.8409 11.8408 13.3334 10 13.3334C8.15918 13.3334 6.66668 11.8409 6.66668 10C6.66668 8.15919 8.15918 6.66669 10 6.66669Z",fill:"currentColor"},null,-1)],In={key:12},On={style:{width:"100%",height:"100%"},viewBox:"0 0 6 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},An=[i.createElementVNode("path",{d:"M3.45883 11.9404C3.28486 12.3421 2.71514 12.3421 2.54117 11.9404L0.704461 7.69868C0.561505 7.36854 0.803529 7 1.16329 7L4.83671 7C5.19647 7 5.43849 7.36854 5.29554 7.69868L3.45883 11.9404Z",fill:"currentColor"},null,-1),i.createElementVNode("path",{d:"M2.54117 1.05963C2.71514 0.657866 3.28486 0.657866 3.45883 1.05963L5.29554 5.30132C5.43849 5.63146 5.19647 6 4.83671 6L1.16329 6C0.803529 6 0.561506 5.63146 0.704461 5.30132L2.54117 1.05963Z",fill:"currentColor"},null,-1)],F={__name:"Icon",props:{icon:{type:String,required:!0}},setup(t){return(e,n)=>t.icon==="minus"?(i.openBlock(),i.createElementBlock("div",Gt,[(i.openBlock(),i.createElementBlock("svg",qt,Kt))])):t.icon==="plus"?(i.openBlock(),i.createElementBlock("div",Qt,[(i.openBlock(),i.createElementBlock("svg",Jt,en))])):t.icon==="radio-circle"?(i.openBlock(),i.createElementBlock("div",tn,[(i.openBlock(),i.createElementBlock("svg",nn,on))])):t.icon==="radio-circle-selected"?(i.openBlock(),i.createElementBlock("div",rn,[(i.openBlock(),i.createElementBlock("svg",ln,an))])):t.icon==="small-row"?(i.openBlock(),i.createElementBlock("div",sn,[(i.openBlock(),i.createElementBlock("svg",cn,dn))])):t.icon==="medium-row"?(i.openBlock(),i.createElementBlock("div",un,[(i.openBlock(),i.createElementBlock("svg",fn,hn))])):t.icon==="large-row"?(i.openBlock(),i.createElementBlock("div",mn,[(i.openBlock(),i.createElementBlock("svg",gn,pn))])):t.icon==="check"?(i.openBlock(),i.createElementBlock("div",_n,[(i.openBlock(),i.createElementBlock("svg",bn,Cn))])):t.icon==="drag-indicator"?(i.openBlock(),i.createElementBlock("div",yn,[(i.openBlock(),i.createElementBlock("svg",wn,En))])):t.icon==="search"?(i.openBlock(),i.createElementBlock("div",vn,[(i.openBlock(),i.createElementBlock("svg",kn,Dn))])):t.icon==="columns"?(i.openBlock(),i.createElementBlock("div",Sn,[(i.openBlock(),i.createElementBlock("svg",xn,Tn))])):t.icon==="settings"?(i.openBlock(),i.createElementBlock("div",Nn,[(i.openBlock(),i.createElementBlock("svg",Bn,Vn))])):t.icon==="sort"?(i.openBlock(),i.createElementBlock("div",In,[(i.openBlock(),i.createElementBlock("svg",On,An))])):i.createCommentVNode("",!0)}};function $n(){let t=i.ref([]),e=i.ref([]);function n(){return t.value}function o(){return e.value}function r(s){t.value=s,e.value=[],l(75)}function l(s=30){let c=e.value.length;if(c>=t.value.length)return;let d=t.value.slice(c,c+s);e.value=[...e.value,...d]}function a(){e.value=[],l()}return{getAllData:n,getLoadedData:o,setData:r,loadData:l,refreshLoadedData:a}}function mt(){let t=window.__vue3TableDataConfig.mitt;function e(r,l){t.on(r,l)}function n(r,l){t.off(r,l)}function o(r,l=null){t.emit(r,l)}return{addEventHandler:e,removeEventHandler:n,triggerEvent:o}}const I={getTranslate(t,e=window.__vue3TableDataConfig.translation.file){return t.split(".").forEach(o=>{e?e=e[o]:e=void 0}),e},setTranslateFile(t){this.hasValidContent(t)&&(window.__vue3TableDataConfig.translation.file=t)},hasValidContent(t){return typeof t!="object"?(console.error("The given file is not a valid json file",t),!1):(["search","column_settings_modal","column_settings_modal.title","column_settings_modal.description","column_settings_modal.actions","column_settings_modal.actions.save","column_settings_modal.actions.cancel","style_settings_modal","style_settings_modal.title","style_settings_modal.description","style_settings_modal.sections","style_settings_modal.sections.row_size","style_settings_modal.sections.numbers_color","style_settings_modal.sections.row_size.title","style_settings_modal.sections.numbers_color.title","style_settings_modal.sections.row_size.options","style_settings_modal.sections.row_size.options.small","style_settings_modal.sections.row_size.options.medium","style_settings_modal.sections.row_size.options.large","style_settings_modal.sections.numbers_color.options.black","style_settings_modal.sections.numbers_color.options.color","style_settings_modal.actions","style_settings_modal.actions.save","style_settings_modal.actions.cancel"].forEach(n=>{if(this.getTranslate(n,t)===void 0)return console.error("The given file has an invalid structure. We could not find the translate for path: "+n.replaceAll("."," -> ")),!1}),!0)}},Z={formatNumericValue(t){return this.isNumericValue(t)?this.formatNumber(t,{fractionDigits:2}):t},isNumericValue(t){return t!==null&&typeof t=="number"},isDate(t){return!t||typeof t=="string"&&t.length!==10?!1:this.parseDate(t)instanceof Date},parseDate(t,e="d.m.Y"){if(e==="d.m.Y"){let n=t.substr(6),o=t.substr(3,2),r=t.substr(0,2);return new Date(n,o-1,r,0,0,0,0)}},formatNumber(t,e={}){if(t===null||isNaN(t))return t;let n={minimumFractionDigits:(typeof e.minimumFractionDigits=="number"?e.minimumFractionDigits:null)||(typeof e.fractionDigits=="number"?e.fractionDigits:2),maximumFractionDigits:(typeof e.maximumFractionDigits=="number"?e.maximumFractionDigits:null)||(typeof e.fractionDigits=="number"?e.fractionDigits:2)};return(t*1).toLocaleString(document.documentElement.lang,n)},cleanTerm(t){return t&&typeof t=="string"?(t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),t.replace(/[^0-9a-z]/gi,"").toLowerCase()):""}},Mn={class:"table-header"},Ln={class:"table-header-row"},Pn=["onClick"],Fn=["textContent"],Hn={key:0},zn={class:"delimiter"},Rn={key:1,class:"table-total"},Xn={key:2,class:"column-search-container"},Yn=["onInput","placeholder"],Zn={class:"table-body"},jn=["onClick"],Wn={__name:"TableData",props:{data:{type:Object,required:!0}},emits:["row-click"],setup(t,{emit:e}){const n=e,o=t;let r=i.ref(null),l=i.ref(null),a=i.ref(null),s=i.ref(!1);const c=i.reactive([{id:"small",class:"cell-small",selected:!0},{id:"medium",class:"cell-medium",selected:!1},{id:"large",class:"cell-large",selected:!1}]);let d=i.ref("black"),h=i.ref(!1),f=i.ref({}),m=mt(),g=$n();i.watch(f,()=>{Object.values(f.value).every(_=>!_)&&g.refreshLoadedData()},{deep:!0});const p=i.computed(()=>l.value.filter(_=>_.visible)),k=i.computed(()=>Object.keys(f.value).length===0?g.getLoadedData():g.getAllData().filter(_=>Object.keys(f.value).every(E=>{let w=Z.cleanTerm(f.value[E]);return Z.cleanTerm(_[E]??"").toLowerCase().includes(w.toLowerCase())})).slice(0,120)),X=i.computed(()=>(_,E)=>{let w=[],S=c.find(Ee=>Ee.selected)??c[0];return w.push(S.class),_?(w.push("numeric-column"),w.push(d.value==="color"?Math.sign(E)<0?"text-red":"text-green":"text-gray"),w.join(" ")):(w.push("text-gray"),w.join(" "))}),W=i.computed(()=>p.value.some(_=>_.isNumeric));function A(_){s.value=a.value===_?!s.value:!0,a.value=_;let E=g.getAllData().sort((w,S)=>Y(w[a.value],S[a.value],s.value));g.setData(E)}function Y(_,E,w){return _==null&&(_=""),E==null&&(E=""),w||([_,E]=[E,_]),Z.isNumericValue(_)&&Z.isNumericValue(E)?E-_:Z.isDate(_)&&Z.isDate(E)?Z.parseDate(_).getTime()>Z.parseDate(E).getTime()?1:-1:_.localeCompare(E)}function U(_){c.forEach(E=>E.selected=E.id===_.newRowSize),d.value=_.newDigitsColor}function ie(_){l.value=_}function G(){h.value=!h.value,h.value||(f.value={})}function re(_){if(!_.isNumeric)return"";let E=o.data.rows.map(w=>w[_.key]);return Z.formatNumber(E.reduce((w,S)=>w+S,0),{fractionDigits:2})}function he(_){return o.data.rows.map(w=>w[_.key]).every(Z.isNumericValue)}function L(){l.value=o.data.header.map(_=>({key:_.key,label:_.label,searchable:_.searchable,visible:!0,isNumeric:he(_)})),m.triggerEvent("sync-table-columns-event",l.value)}function me(_,E){f.value[E]=_}function ee(_){n("row-click",_)}function ge(){r.value.style.maxHeight="75vh"}return m.addEventHandler("update-table-style-event",U),m.addEventHandler("update-table-columns-event",ie),m.addEventHandler("toggle-search-event",G),L(),g.setData(o.data.rows),i.onMounted(()=>ge()),(_,E)=>(i.openBlock(),i.createElementBlock("div",{ref_key:"tableContainer",ref:r,class:"table-container"},[i.createElementVNode("table",null,[i.createElementVNode("thead",Mn,[i.createElementVNode("tr",Ln,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(p.value,w=>(i.openBlock(),i.createElementBlock("th",{onClick:S=>A(w.key)},[i.createElementVNode("div",{class:i.normalizeClass(["header-row-item",w.isNumeric?"numeric":""])},[i.createElementVNode("span",{textContent:i.toDisplayString(w.label)},null,8,Fn),i.createVNode(F,{icon:"sort",class:i.normalizeClass(["header-row-item-icon",`${i.unref(a)===w.key?"selected":""}`])},null,8,["class"])],2)],8,Pn))),256))]),W.value?(i.openBlock(),i.createElementBlock("tr",Hn,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(p.value,w=>(i.openBlock(),i.createElementBlock("th",zn))),256))])):i.createCommentVNode("",!0),W.value?(i.openBlock(),i.createElementBlock("tr",Rn,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(p.value,(w,S)=>(i.openBlock(),i.createElementBlock("th",null,i.toDisplayString(S===0?"Total":re(w)),1))),256))])):i.createCommentVNode("",!0),i.unref(h)?(i.openBlock(),i.createElementBlock("tr",Xn,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(p.value,w=>(i.openBlock(),i.createElementBlock("th",null,[w.searchable?(i.openBlock(),i.createElementBlock("input",{key:0,onInput:S=>me(S.target.value,w.key),class:"column-search",placeholder:i.unref(I).getTranslate("search")},null,40,Yn)):i.createCommentVNode("",!0)]))),256))])):i.createCommentVNode("",!0)]),i.createElementVNode("tbody",Zn,[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(k.value,w=>(i.openBlock(),i.createElementBlock("tr",{onClick:S=>ee(w)},[(i.openBlock(!0),i.createElementBlock(i.Fragment,null,i.renderList(p.value,S=>(i.openBlock(),i.createElementBlock("td",{class:i.normalizeClass(X.value(S.isNumeric,w[S.key]))},[i.renderSlot(_.$slots,`cell.${S.key}`,{value:w[S.key],column:S,row:w,helpers:i.unref(Z)},()=>[i.createTextVNode(i.toDisplayString(S.isNumeric?i.unref(Z).formatNumericValue(w[S.key]):w[S.key]),1)])],2))),256))],8,jn))),256))])])],512))}},gt={__name:"Modal",emits:["close"],setup(t,{emit:e}){const n=e;return document.body.style.overflow="hidden",i.onUnmounted(()=>document.body.style.overflow="auto"),(o,r)=>(i.openBlock(),i.createElementBlock("div",{onClick:r[0]||(r[0]=i.withModifiers(l=>n("close"),["self"])),class:"modal"},[i.renderSlot(o.$slots,"default")]))}},Un={class:"settings-modal"},Gn=["textContent"],qn=["textContent"],Kn={class:"style-settings-options"},Qn={class:"style-settings-option"},Jn=["textContent"],eo={key:0,class:"option-items"},to=["onClick"],no={class:"item-value"},oo=["textContent"],io=i.createElementVNode("div",{class:"divider"},null,-1),ro={class:"style-settings-option"},lo=["textContent"],ao={key:0,class:"option-items"},so=["onClick"],co={class:"item-value"},uo=["textContent"],fo={class:"actions-container"},ho=["textContent"],mo=["textContent"],go={__name:"StyleSettingsModal",props:{rowSizeValue:{type:String,default:"small"},digitsColorValue:{type:String,default:"black"}},emits:["save","close"],setup(t,{emit:e}){const n=e,o=t;let r=i.ref(o.rowSizeValue),l=i.ref(o.digitsColorValue);const a={small:{icon:"small-row",label:I.getTranslate("style_settings_modal.sections.row_size.options.small")},medium:{icon:"medium-row",label:I.getTranslate("style_settings_modal.sections.row_size.options.medium")},large:{icon:"large-row",label:I.getTranslate("style_settings_modal.sections.row_size.options.large")}},s={black:I.getTranslate("style_settings_modal.sections.numbers_color.options.black"),color:I.getTranslate("style_settings_modal.sections.numbers_color.options.color")};let c=i.ref(!1),d=i.ref(!1);function h(){n("save",r.value,l.value)}return(f,m)=>(i.openBlock(),i.createBlock(gt,null,{default:i.withCtx(()=>[i.createElementVNode("div",Un,[i.createElementVNode("div",{class:"settings-modal-title",textContent:i.toDisplayString(i.unref(I).getTranslate("style_settings_modal.title"))},null,8,Gn),i.createElementVNode("div",{class:"settings-modal-description",textContent:i.toDisplayString(i.unref(I).getTranslate("style_settings_modal.description"))},null,8,qn),i.createElementVNode("div",Kn,[i.createElementVNode("div",Qn,[i.createElementVNode("div",{class:"option-container",onClick:m[0]||(m[0]=g=>i.isRef(c)?c.value=!i.unref(c):c=!i.unref(c))},[i.createElementVNode("div",{class:"option-title",textContent:i.toDisplayString(i.unref(I).getTranslate("style_settings_modal.sections.row_size.title"))},null,8,Jn),i.unref(c)?(i.openBlock(),i.createBlock(F,{key:1,icon:"minus",class:"icon-size"})):(i.openBlock(),i.createBlock(F,{key:0,icon:"plus",class:"icon-size"}))]),i.unref(c)?(i.openBlock(),i.createElementBlock("div",eo,[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(a,(g,p)=>i.createElementVNode("div",{class:"option-item-container",onClick:k=>i.isRef(r)?r.value=p:r=p},[i.createVNode(F,{icon:`radio-circle${i.unref(r)===p?"-selected":""}`,class:i.normalizeClass(`icon-size ${i.unref(r)===p?"icon-selected":"icon-unselected"}`)},null,8,["icon","class"]),i.createElementVNode("div",no,[i.createVNode(F,{icon:g.icon,class:"icon-size"},null,8,["icon"]),i.createElementVNode("span",{class:"option-item-title",textContent:i.toDisplayString(g.label)},null,8,oo)])],8,to)),64))])):i.createCommentVNode("",!0)]),io,i.createElementVNode("div",ro,[i.createElementVNode("div",{class:"option-container",onClick:m[1]||(m[1]=g=>i.isRef(d)?d.value=!i.unref(d):d=!i.unref(d))},[i.createElementVNode("div",{class:"option-title",textContent:i.toDisplayString(i.unref(I).getTranslate("style_settings_modal.sections.numbers_color.title"))},null,8,lo),i.unref(d)?(i.openBlock(),i.createBlock(F,{key:1,icon:"minus",class:"icon-size"})):(i.openBlock(),i.createBlock(F,{key:0,icon:"plus",class:"icon-size"}))]),i.unref(d)?(i.openBlock(),i.createElementBlock("div",ao,[(i.openBlock(),i.createElementBlock(i.Fragment,null,i.renderList(s,(g,p)=>i.createElementVNode("div",{class:"option-item-container",onClick:k=>i.isRef(l)?l.value=p:l=p},[i.createVNode(F,{icon:`radio-circle${i.unref(l)===p?"-selected":""}`,class:i.normalizeClass(`icon-size ${i.unref(l)===p?"icon-selected":"icon-unselected"}`)},null,8,["icon","class"]),i.createElementVNode("div",co,[i.createElementVNode("span",{class:"option-item-title",textContent:i.toDisplayString(g)},null,8,uo)])],8,so)),64))])):i.createCommentVNode("",!0)])]),i.createElementVNode("div",fo,[i.createElementVNode("div",{class:"button button-cancel",onClick:m[2]||(m[2]=g=>n("close")),textContent:i.toDisplayString(i.unref(I).getTranslate("style_settings_modal.actions.cancel"))},null,8,ho),i.createElementVNode("div",{class:"button button-confirm",onClick:h,textContent:i.toDisplayString(i.unref(I).getTranslate("style_settings_modal.actions.save"))},null,8,mo)])])]),_:1}))}},po=["for"],_o={key:0,class:"checkbox-input"},bo={key:1,class:"checkbox-selected"},Co=["textContent"],yo=["id","name","value"],wo={__name:"Checkbox",props:{name:{type:String,default:null},label:{type:String,default:null},modelValue:{type:[Array,Boolean],default:!1},value:{type:[String],required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=e,o=t,r=i.computed({get:()=>o.modelValue,set:a=>n("update:modelValue",a)}),l=i.computed(()=>o.name&&o.name.length?o.name:o.label);return(a,s)=>(i.openBlock(),i.createElementBlock("label",{for:t.name,class:"checkbox-container"},[r.value?(i.openBlock(),i.createElementBlock("div",bo,[i.createVNode(F,{icon:"check",class:"checkbox-selected-icon"})])):(i.openBlock(),i.createElementBlock("div",_o)),t.label?(i.openBlock(),i.createElementBlock("span",{key:2,class:"label",textContent:i.toDisplayString(t.label)},null,8,Co)):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("input",{hidden:"",id:l.value,name:t.name,type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=c=>r.value=c),value:t.value},null,8,yo),[[i.vModelCheckbox,r.value]])],8,po))}};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pt(Object(n),!0).forEach(function(o){Eo(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Ae(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ae=function(e){return typeof e}:Ae=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(t)}function Eo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function te(){return te=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},te.apply(this,arguments)}function vo(t,e){if(t==null)return{};var n={},o=Object.keys(t),r,l;for(l=0;l<o.length;l++)r=o[l],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function ko(t,e){if(t==null)return{};var n=vo(t,e),o,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)o=l[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}var Do="1.14.0";function ne(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var oe=ne(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ve=ne(/Edge/i),_t=ne(/firefox/i),ke=ne(/safari/i)&&!ne(/chrome/i)&&!ne(/android/i),bt=ne(/iP(ad|od|hone)/i),So=ne(/chrome/i)&&ne(/android/i),Ct={capture:!1,passive:!1};function D(t,e,n){t.addEventListener(e,n,!oe&&Ct)}function v(t,e,n){t.removeEventListener(e,n,!oe&&Ct)}function $e(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function xo(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Q(t,e,n,o){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&$e(t,e):$e(t,e))||o&&t===n)return t;if(t===n)break}while(t=xo(t))}return null}var yt=/\s+/g;function H(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(yt," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(yt," ")}}function b(t,e,n){var o=t&&t.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=n+(typeof n=="string"?"":"px")}}function pe(t,e){var n="";if(typeof t=="string")n=t;else do{var o=b(t,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function wt(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,l=o.length;if(n)for(;r<l;r++)n(o[r],r);return o}return[]}function J(){var t=document.scrollingElement;return t||document.documentElement}function V(t,e,n,o,r){if(!(!t.getBoundingClientRect&&t!==window)){var l,a,s,c,d,h,f;if(t!==window&&t.parentNode&&t!==J()?(l=t.getBoundingClientRect(),a=l.top,s=l.left,c=l.bottom,d=l.right,h=l.height,f=l.width):(a=0,s=0,c=window.innerHeight,d=window.innerWidth,h=window.innerHeight,f=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!oe))do if(r&&r.getBoundingClientRect&&(b(r,"transform")!=="none"||n&&b(r,"position")!=="static")){var m=r.getBoundingClientRect();a-=m.top+parseInt(b(r,"border-top-width")),s-=m.left+parseInt(b(r,"border-left-width")),c=a+l.height,d=s+l.width;break}while(r=r.parentNode);if(o&&t!==window){var g=pe(r||t),p=g&&g.a,k=g&&g.d;g&&(a/=k,s/=p,f/=p,h/=k,c=a+h,d=s+f)}return{top:a,left:s,bottom:c,right:d,width:f,height:h}}}function Et(t,e,n){for(var o=ae(t,!0),r=V(t)[e];o;){var l=V(o)[n],a=void 0;if(n==="top"||n==="left"?a=r>=l:a=r<=l,!a)return o;if(o===J())break;o=ae(o,!1)}return!1}function _e(t,e,n,o){for(var r=0,l=0,a=t.children;l<a.length;){if(a[l].style.display!=="none"&&a[l]!==C.ghost&&(o||a[l]!==C.dragged)&&Q(a[l],n.draggable,t,!1)){if(r===e)return a[l];r++}l++}return null}function Ge(t,e){for(var n=t.lastElementChild;n&&(n===C.ghost||b(n,"display")==="none"||e&&!$e(n,e));)n=n.previousElementSibling;return n||null}function j(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==C.clone&&(!e||$e(t,e))&&n++;return n}function vt(t){var e=0,n=0,o=J();if(t)do{var r=pe(t),l=r.a,a=r.d;e+=t.scrollLeft*l,n+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[e,n]}function To(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n)}return-1}function ae(t,e){if(!t||!t.getBoundingClientRect)return J();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=b(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return J();if(o||e)return n;o=!0}}while(n=n.parentNode);return J()}function No(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function qe(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var De;function kt(t,e){return function(){if(!De){var n=arguments,o=this;n.length===1?t.call(o,n[0]):t.apply(o,n),De=setTimeout(function(){De=void 0},e)}}}function Bo(){clearTimeout(De),De=void 0}function Dt(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function St(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var z="Sortable"+new Date().getTime();function Vo(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(r){if(!(b(r,"display")==="none"||r===C.ghost)){t.push({target:r,rect:V(r)});var l=K({},t[t.length-1].rect);if(r.thisAnimationDuration){var a=pe(r,!0);a&&(l.top-=a.f,l.left-=a.e)}r.fromRect=l}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(To(t,{target:o}),1)},animateAll:function(o){var r=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var l=!1,a=0;t.forEach(function(s){var c=0,d=s.target,h=d.fromRect,f=V(d),m=d.prevFromRect,g=d.prevToRect,p=s.rect,k=pe(d,!0);k&&(f.top-=k.f,f.left-=k.e),d.toRect=f,d.thisAnimationDuration&&qe(m,f)&&!qe(h,f)&&(p.top-f.top)/(p.left-f.left)===(h.top-f.top)/(h.left-f.left)&&(c=Oo(p,m,g,r.options)),qe(f,h)||(d.prevFromRect=h,d.prevToRect=f,c||(c=r.options.animation),r.animate(d,p,f,c)),c&&(l=!0,a=Math.max(a,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(e),l?e=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),t=[]},animate:function(o,r,l,a){if(a){b(o,"transition",""),b(o,"transform","");var s=pe(this.el),c=s&&s.a,d=s&&s.d,h=(r.left-l.left)/(c||1),f=(r.top-l.top)/(d||1);o.animatingX=!!h,o.animatingY=!!f,b(o,"transform","translate3d("+h+"px,"+f+"px,0)"),this.forRepaintDummy=Io(o),b(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),b(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){b(o,"transition",""),b(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function Io(t){return t.offsetWidth}function Oo(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}var be=[],Ke={initializeByDefault:!0},Se={mount:function(e){for(var n in Ke)Ke.hasOwnProperty(n)&&!(n in e)&&(e[n]=Ke[n]);be.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),be.push(e)},pluginEvent:function(e,n,o){var r=this;this.eventCanceled=!1,o.cancel=function(){r.eventCanceled=!0};var l=e+"Global";be.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][l]&&n[a.pluginName][l](K({sortable:n},o)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](K({sortable:n},o)))})},initializePlugins:function(e,n,o,r){be.forEach(function(s){var c=s.pluginName;if(!(!e.options[c]&&!s.initializeByDefault)){var d=new s(e,n,e.options);d.sortable=e,d.options=e.options,e[c]=d,te(o,d.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var a=this.modifyOption(e,l,e.options[l]);typeof a<"u"&&(e.options[l]=a)}},getEventProperties:function(e,n){var o={};return be.forEach(function(r){typeof r.eventProperties=="function"&&te(o,r.eventProperties.call(n[r.pluginName],e))}),o},modifyOption:function(e,n,o){var r;return be.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[n]=="function"&&(r=l.optionListeners[n].call(e[l.pluginName],o))}),r}};function Ao(t){var e=t.sortable,n=t.rootEl,o=t.name,r=t.targetEl,l=t.cloneEl,a=t.toEl,s=t.fromEl,c=t.oldIndex,d=t.newIndex,h=t.oldDraggableIndex,f=t.newDraggableIndex,m=t.originalEvent,g=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[z],!!e){var k,X=e.options,W="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!oe&&!ve?k=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(k=document.createEvent("Event"),k.initEvent(o,!0,!0)),k.to=a||n,k.from=s||n,k.item=r||n,k.clone=l,k.oldIndex=c,k.newIndex=d,k.oldDraggableIndex=h,k.newDraggableIndex=f,k.originalEvent=m,k.pullMode=g?g.lastPutMode:void 0;var A=K(K({},p),Se.getEventProperties(o,e));for(var Y in A)k[Y]=A[Y];n&&n.dispatchEvent(k),X[W]&&X[W].call(e,k)}}var $o=["evt"],P=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.evt,l=ko(o,$o);Se.pluginEvent.bind(C)(e,n,K({dragEl:u,parentEl:T,ghostEl:y,rootEl:x,nextEl:de,lastDownEl:Me,cloneEl:N,cloneHidden:se,dragStarted:Te,putSortable:O,activeSortable:C.active,originalEvent:r,oldIndex:Ce,oldDraggableIndex:xe,newIndex:R,newDraggableIndex:ce,hideGhostForTarget:Ot,unhideGhostForTarget:At,cloneNowHidden:function(){se=!0},cloneNowShown:function(){se=!1},dispatchSortableEvent:function(s){M({sortable:n,name:s,originalEvent:r})}},l))};function M(t){Ao(K({putSortable:O,cloneEl:N,targetEl:u,rootEl:x,oldIndex:Ce,oldDraggableIndex:xe,newIndex:R,newDraggableIndex:ce},t))}var u,T,y,x,de,Me,N,se,Ce,R,xe,ce,Le,O,ye=!1,Pe=!1,Fe=[],ue,q,Qe,Je,xt,Tt,Te,we,Ne,Be=!1,He=!1,ze,$,et=[],tt=!1,Re=[],Xe=typeof document<"u",Ye=bt,Nt=ve||oe?"cssFloat":"float",Mo=Xe&&!So&&!bt&&"draggable"in document.createElement("div"),Bt=function(){if(Xe){if(oe)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Vt=function(e,n){var o=b(e),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),l=_e(e,0,n),a=_e(e,1,n),s=l&&b(l),c=a&&b(a),d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+V(l).width,h=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+V(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&s.float&&s.float!=="none"){var f=s.float==="left"?"left":"right";return a&&(c.clear==="both"||c.clear===f)?"vertical":"horizontal"}return l&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||d>=r&&o[Nt]==="none"||a&&o[Nt]==="none"&&d+h>r)?"vertical":"horizontal"},Lo=function(e,n,o){var r=o?e.left:e.top,l=o?e.right:e.bottom,a=o?e.width:e.height,s=o?n.left:n.top,c=o?n.right:n.bottom,d=o?n.width:n.height;return r===s||l===c||r+a/2===s+d/2},Po=function(e,n){var o;return Fe.some(function(r){var l=r[z].options.emptyInsertThreshold;if(!(!l||Ge(r))){var a=V(r),s=e>=a.left-l&&e<=a.right+l,c=n>=a.top-l&&n<=a.bottom+l;if(s&&c)return o=r}}),o},It=function(e){function n(l,a){return function(s,c,d,h){var f=s.options.group.name&&c.options.group.name&&s.options.group.name===c.options.group.name;if(l==null&&(a||f))return!0;if(l==null||l===!1)return!1;if(a&&l==="clone")return l;if(typeof l=="function")return n(l(s,c,d,h),a)(s,c,d,h);var m=(a?s:c).options.group.name;return l===!0||typeof l=="string"&&l===m||l.join&&l.indexOf(m)>-1}}var o={},r=e.group;(!r||Ae(r)!="object")&&(r={name:r}),o.name=r.name,o.checkPull=n(r.pull,!0),o.checkPut=n(r.put),o.revertClone=r.revertClone,e.group=o},Ot=function(){!Bt&&y&&b(y,"display","none")},At=function(){!Bt&&y&&b(y,"display","")};Xe&&document.addEventListener("click",function(t){if(Pe)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Pe=!1,!1},!0);var fe=function(e){if(u){e=e.touches?e.touches[0]:e;var n=Po(e.clientX,e.clientY);if(n){var o={};for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[z]._onDragOver(o)}}},Fo=function(e){u&&u.parentNode[z]._isOutsideThisEl(e.target)};function C(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=te({},e),t[z]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Vt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:C.supportPointer!==!1&&"PointerEvent"in window&&!ke,emptyInsertThreshold:5};Se.initializePlugins(this,t,n);for(var o in n)!(o in e)&&(e[o]=n[o]);It(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:Mo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?D(t,"pointerdown",this._onTapStart):(D(t,"mousedown",this._onTapStart),D(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(D(t,"dragover",this),D(t,"dragenter",this)),Fe.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),te(this,Vo())}C.prototype={constructor:C,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(we=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,u):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,r=this.options,l=r.preventOnFilter,a=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(s||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,h=r.filter;if(Wo(o),!u&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||r.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&ke&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Q(c,r.draggable,o,!1),!(c&&c.animated)&&Me!==c)){if(Ce=j(c),xe=j(c,r.draggable),typeof h=="function"){if(h.call(this,e,c,this)){M({sortable:n,rootEl:d,name:"filter",targetEl:c,toEl:o,fromEl:o}),P("filter",n,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(f){if(f=Q(d,f.trim(),o,!1),f)return M({sortable:n,rootEl:f,name:"filter",targetEl:c,fromEl:o,toEl:o}),P("filter",n,{evt:e}),!0}),h)){l&&e.cancelable&&e.preventDefault();return}r.handle&&!Q(d,r.handle,o,!1)||this._prepareDragStart(e,s,c)}}},_prepareDragStart:function(e,n,o){var r=this,l=r.el,a=r.options,s=l.ownerDocument,c;if(o&&!u&&o.parentNode===l){var d=V(o);if(x=l,u=o,T=u.parentNode,de=u.nextSibling,Me=o,Le=a.group,C.dragged=u,ue={target:u,clientX:(n||e).clientX,clientY:(n||e).clientY},xt=ue.clientX-d.left,Tt=ue.clientY-d.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,u.style["will-change"]="all",c=function(){if(P("delayEnded",r,{evt:e}),C.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!_t&&r.nativeDraggable&&(u.draggable=!0),r._triggerDragStart(e,n),M({sortable:r,name:"choose",originalEvent:e}),H(u,a.chosenClass,!0)},a.ignore.split(",").forEach(function(h){wt(u,h.trim(),nt)}),D(s,"dragover",fe),D(s,"mousemove",fe),D(s,"touchmove",fe),D(s,"mouseup",r._onDrop),D(s,"touchend",r._onDrop),D(s,"touchcancel",r._onDrop),_t&&this.nativeDraggable&&(this.options.touchStartThreshold=4,u.draggable=!0),P("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(ve||oe))){if(C.eventCanceled){this._onDrop();return}D(s,"mouseup",r._disableDelayedDrag),D(s,"touchend",r._disableDelayedDrag),D(s,"touchcancel",r._disableDelayedDrag),D(s,"mousemove",r._delayedDragTouchMoveHandler),D(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&D(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(c,a.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){u&&nt(u),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?D(document,"pointermove",this._onTouchMove):n?D(document,"touchmove",this._onTouchMove):D(document,"mousemove",this._onTouchMove):(D(u,"dragend",this),D(x,"dragstart",this._onDragStart));try{document.selection?je(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ye=!1,x&&u){P("dragStarted",this,{evt:n}),this.nativeDraggable&&D(document,"dragover",Fo);var o=this.options;!e&&H(u,o.dragClass,!1),H(u,o.ghostClass,!0),C.active=this,e&&this._appendGhost(),M({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(q){this._lastX=q.clientX,this._lastY=q.clientY,Ot();for(var e=document.elementFromPoint(q.clientX,q.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(q.clientX,q.clientY),e!==n);)n=e;if(u.parentNode[z]._isOutsideThisEl(e),n)do{if(n[z]){var o=void 0;if(o=n[z]._onDragOver({clientX:q.clientX,clientY:q.clientY,target:e,rootEl:n}),o&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);At()}},_onTouchMove:function(e){if(ue){var n=this.options,o=n.fallbackTolerance,r=n.fallbackOffset,l=e.touches?e.touches[0]:e,a=y&&pe(y,!0),s=y&&a&&a.a,c=y&&a&&a.d,d=Ye&&$&&vt($),h=(l.clientX-ue.clientX+r.x)/(s||1)+(d?d[0]-et[0]:0)/(s||1),f=(l.clientY-ue.clientY+r.y)/(c||1)+(d?d[1]-et[1]:0)/(c||1);if(!C.active&&!ye){if(o&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(y){a?(a.e+=h-(Qe||0),a.f+=f-(Je||0)):a={a:1,b:0,c:0,d:1,e:h,f};var m="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");b(y,"webkitTransform",m),b(y,"mozTransform",m),b(y,"msTransform",m),b(y,"transform",m),Qe=h,Je=f,q=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!y){var e=this.options.fallbackOnBody?document.body:x,n=V(u,!0,Ye,!0,e),o=this.options;if(Ye){for($=e;b($,"position")==="static"&&b($,"transform")==="none"&&$!==document;)$=$.parentNode;$!==document.body&&$!==document.documentElement?($===document&&($=J()),n.top+=$.scrollTop,n.left+=$.scrollLeft):$=J(),et=vt($)}y=u.cloneNode(!0),H(y,o.ghostClass,!1),H(y,o.fallbackClass,!0),H(y,o.dragClass,!0),b(y,"transition",""),b(y,"transform",""),b(y,"box-sizing","border-box"),b(y,"margin",0),b(y,"top",n.top),b(y,"left",n.left),b(y,"width",n.width),b(y,"height",n.height),b(y,"opacity","0.8"),b(y,"position",Ye?"absolute":"fixed"),b(y,"zIndex","100000"),b(y,"pointerEvents","none"),C.ghost=y,e.appendChild(y),b(y,"transform-origin",xt/parseInt(y.style.width)*100+"% "+Tt/parseInt(y.style.height)*100+"%")}},_onDragStart:function(e,n){var o=this,r=e.dataTransfer,l=o.options;if(P("dragStart",this,{evt:e}),C.eventCanceled){this._onDrop();return}P("setupClone",this),C.eventCanceled||(N=St(u),N.draggable=!1,N.style["will-change"]="",this._hideClone(),H(N,this.options.chosenClass,!1),C.clone=N),o.cloneId=je(function(){P("clone",o),!C.eventCanceled&&(o.options.removeCloneOnHide||x.insertBefore(N,u),o._hideClone(),M({sortable:o,name:"clone"}))}),!n&&H(u,l.dragClass,!0),n?(Pe=!0,o._loopId=setInterval(o._emulateDragOver,50)):(v(document,"mouseup",o._onDrop),v(document,"touchend",o._onDrop),v(document,"touchcancel",o._onDrop),r&&(r.effectAllowed="move",l.setData&&l.setData.call(o,r,u)),D(document,"drop",o),b(u,"transform","translateZ(0)")),ye=!0,o._dragStartId=je(o._dragStarted.bind(o,n,e)),D(document,"selectstart",o),Te=!0,ke&&b(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,o=e.target,r,l,a,s=this.options,c=s.group,d=C.active,h=Le===c,f=s.sort,m=O||d,g,p=this,k=!1;if(tt)return;function X(Oe,Ii){P(Oe,p,K({evt:e,isOwner:h,axis:g?"vertical":"horizontal",revert:a,dragRect:r,targetRect:l,canSort:f,fromSortable:m,target:o,completed:A,onMove:function(Ut,Oi){return Ze(x,n,u,r,Ut,V(Ut),e,Oi)},changed:Y},Ii))}function W(){X("dragOverAnimationCapture"),p.captureAnimationState(),p!==m&&m.captureAnimationState()}function A(Oe){return X("dragOverCompleted",{insertion:Oe}),Oe&&(h?d._hideClone():d._showClone(p),p!==m&&(H(u,O?O.options.ghostClass:d.options.ghostClass,!1),H(u,s.ghostClass,!0)),O!==p&&p!==C.active?O=p:p===C.active&&O&&(O=null),m===p&&(p._ignoreWhileAnimating=o),p.animateAll(function(){X("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(o===u&&!u.animated||o===n&&!o.animated)&&(we=null),!s.dragoverBubble&&!e.rootEl&&o!==document&&(u.parentNode[z]._isOutsideThisEl(e.target),!Oe&&fe(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),k=!0}function Y(){R=j(u),ce=j(u,s.draggable),M({sortable:p,name:"change",toEl:n,newIndex:R,newDraggableIndex:ce,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=Q(o,s.draggable,n,!0),X("dragOver"),C.eventCanceled)return k;if(u.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||p._ignoreWhileAnimating===o)return A(!1);if(Pe=!1,d&&!s.disabled&&(h?f||(a=T!==x):O===this||(this.lastPutMode=Le.checkPull(this,d,u,e))&&c.checkPut(this,d,u,e))){if(g=this._getDirection(e,o)==="vertical",r=V(u),X("dragOverValid"),C.eventCanceled)return k;if(a)return T=x,W(),this._hideClone(),X("revert"),C.eventCanceled||(de?x.insertBefore(u,de):x.appendChild(u)),A(!0);var U=Ge(n,s.draggable);if(!U||Xo(e,g,this)&&!U.animated){if(U===u)return A(!1);if(U&&n===e.target&&(o=U),o&&(l=V(o)),Ze(x,n,u,r,o,l,e,!!o)!==!1)return W(),n.appendChild(u),T=n,Y(),A(!0)}else if(U&&Ro(e,g,this)){var ie=_e(n,0,s,!0);if(ie===u)return A(!1);if(o=ie,l=V(o),Ze(x,n,u,r,o,l,e,!1)!==!1)return W(),n.insertBefore(u,ie),T=n,Y(),A(!0)}else if(o.parentNode===n){l=V(o);var G=0,re,he=u.parentNode!==n,L=!Lo(u.animated&&u.toRect||r,o.animated&&o.toRect||l,g),me=g?"top":"left",ee=Et(o,"top","top")||Et(u,"top","top"),ge=ee?ee.scrollTop:void 0;we!==o&&(re=l[me],Be=!1,He=!L&&s.invertSwap||he),G=Yo(e,o,l,g,L?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,He,we===o);var _;if(G!==0){var E=j(u);do E-=G,_=T.children[E];while(_&&(b(_,"display")==="none"||_===y))}if(G===0||_===o)return A(!1);we=o,Ne=G;var w=o.nextElementSibling,S=!1;S=G===1;var Ee=Ze(x,n,u,r,o,l,e,S);if(Ee!==!1)return(Ee===1||Ee===-1)&&(S=Ee===1),tt=!0,setTimeout(zo,30),W(),S&&!w?n.appendChild(u):o.parentNode.insertBefore(u,S?w:o),ee&&Dt(ee,0,ge-ee.scrollTop),T=u.parentNode,re!==void 0&&!He&&(ze=Math.abs(re-V(o)[me])),Y(),A(!0)}if(n.contains(u))return A(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",fe),v(document,"mousemove",fe),v(document,"touchmove",fe)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;if(R=j(u),ce=j(u,o.draggable),P("drop",this,{evt:e}),T=u&&u.parentNode,R=j(u),ce=j(u,o.draggable),C.eventCanceled){this._nulling();return}ye=!1,He=!1,Be=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ot(this.cloneId),ot(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ke&&b(document.body,"user-select",""),b(u,"transform",""),e&&(Te&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(x===T||O&&O.lastPutMode!=="clone")&&N&&N.parentNode&&N.parentNode.removeChild(N),u&&(this.nativeDraggable&&v(u,"dragend",this),nt(u),u.style["will-change"]="",Te&&!ye&&H(u,O?O.options.ghostClass:this.options.ghostClass,!1),H(u,this.options.chosenClass,!1),M({sortable:this,name:"unchoose",toEl:T,newIndex:null,newDraggableIndex:null,originalEvent:e}),x!==T?(R>=0&&(M({rootEl:T,name:"add",toEl:T,fromEl:x,originalEvent:e}),M({sortable:this,name:"remove",toEl:T,originalEvent:e}),M({rootEl:T,name:"sort",toEl:T,fromEl:x,originalEvent:e}),M({sortable:this,name:"sort",toEl:T,originalEvent:e})),O&&O.save()):R!==Ce&&R>=0&&(M({sortable:this,name:"update",toEl:T,originalEvent:e}),M({sortable:this,name:"sort",toEl:T,originalEvent:e})),C.active&&((R==null||R===-1)&&(R=Ce,ce=xe),M({sortable:this,name:"end",toEl:T,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){P("nulling",this),x=u=T=y=de=N=Me=se=ue=q=Te=R=ce=Ce=xe=we=Ne=O=Le=C.dragged=C.ghost=C.clone=C.active=null,Re.forEach(function(e){e.checked=!0}),Re.length=Qe=Je=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":u&&(this._onDragOver(e),Ho(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,o=this.el.children,r=0,l=o.length,a=this.options;r<l;r++)n=o[r],Q(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||jo(n));return e},sort:function(e,n){var o={},r=this.el;this.toArray().forEach(function(l,a){var s=r.children[a];Q(s,this.options.draggable,r,!1)&&(o[l]=s)},this),n&&this.captureAnimationState(),e.forEach(function(l){o[l]&&(r.removeChild(o[l]),r.appendChild(o[l]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Q(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var o=this.options;if(n===void 0)return o[e];var r=Se.modifyOption(this,e,n);typeof r<"u"?o[e]=r:o[e]=n,e==="group"&&It(o)},destroy:function(){P("destroy",this);var e=this.el;e[z]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Fe.splice(Fe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!se){if(P("hideClone",this),C.eventCanceled)return;b(N,"display","none"),this.options.removeCloneOnHide&&N.parentNode&&N.parentNode.removeChild(N),se=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(se){if(P("showClone",this),C.eventCanceled)return;u.parentNode==x&&!this.options.group.revertClone?x.insertBefore(N,u):de?x.insertBefore(N,de):x.appendChild(N),this.options.group.revertClone&&this.animate(u,N),b(N,"display",""),se=!1}}};function Ho(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ze(t,e,n,o,r,l,a,s){var c,d=t[z],h=d.options.onMove,f;return window.CustomEvent&&!oe&&!ve?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=n,c.draggedRect=o,c.related=r||e,c.relatedRect=l||V(e),c.willInsertAfter=s,c.originalEvent=a,t.dispatchEvent(c),h&&(f=h.call(d,c,a)),f}function nt(t){t.draggable=!1}function zo(){tt=!1}function Ro(t,e,n){var o=V(_e(n.el,0,n.options,!0)),r=10;return e?t.clientX<o.left-r||t.clientY<o.top&&t.clientX<o.right:t.clientY<o.top-r||t.clientY<o.bottom&&t.clientX<o.left}function Xo(t,e,n){var o=V(Ge(n.el,n.options.draggable)),r=10;return e?t.clientX>o.right+r||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+r}function Yo(t,e,n,o,r,l,a,s){var c=o?t.clientY:t.clientX,d=o?n.height:n.width,h=o?n.top:n.left,f=o?n.bottom:n.right,m=!1;if(!a){if(s&&ze<d*r){if(!Be&&(Ne===1?c>h+d*l/2:c<f-d*l/2)&&(Be=!0),Be)m=!0;else if(Ne===1?c<h+ze:c>f-ze)return-Ne}else if(c>h+d*(1-r)/2&&c<f-d*(1-r)/2)return Zo(e)}return m=m||a,m&&(c<h+d*l/2||c>f-d*l/2)?c>h+d/2?1:-1:0}function Zo(t){return j(u)<j(t)?1:-1}function jo(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function Wo(t){Re.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&Re.push(o)}}function je(t){return setTimeout(t,0)}function ot(t){return clearTimeout(t)}Xe&&D(document,"touchmove",function(t){(C.active||ye)&&t.cancelable&&t.preventDefault()}),C.utils={on:D,off:v,css:b,find:wt,is:function(e,n){return!!Q(e,n,e,!1)},extend:No,throttle:kt,closest:Q,toggleClass:H,clone:St,index:j,nextTick:je,cancelNextTick:ot,detectDirection:Vt,getChild:_e},C.get=function(t){return t[z]},C.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(C.utils=K(K({},C.utils),o.utils)),Se.mount(o)})},C.create=function(t,e){return new C(t,e)},C.version=Do;var B=[],Ve,it,rt=!1,lt,at,We,Ie;function Uo(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):this.options.supportPointer?D(document,"pointermove",this._handleFallbackAutoScroll):o.touches?D(document,"touchmove",this._handleFallbackAutoScroll):D(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),$t(),Ue(),Bo()},nulling:function(){We=it=Ve=rt=Ie=lt=at=null,B.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var r=this,l=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(l,a);if(We=n,o||this.options.forceAutoScrollFallback||ve||oe||ke){st(n,this.options,s,o);var c=ae(s,!0);rt&&(!Ie||l!==lt||a!==at)&&(Ie&&$t(),Ie=setInterval(function(){var d=ae(document.elementFromPoint(l,a),!0);d!==c&&(c=d,Ue()),st(n,r.options,d,o)},10),lt=l,at=a)}else{if(!this.options.bubbleScroll||ae(s,!0)===J()){Ue();return}st(n,this.options,ae(s,!1),!1)}}},te(t,{pluginName:"scroll",initializeByDefault:!0})}function Ue(){B.forEach(function(t){clearInterval(t.pid)}),B=[]}function $t(){clearInterval(Ie)}var st=kt(function(t,e,n,o){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,s=e.scrollSpeed,c=J(),d=!1,h;it!==n&&(it=n,Ue(),Ve=e.scroll,h=e.scrollFn,Ve===!0&&(Ve=ae(n,!0)));var f=0,m=Ve;do{var g=m,p=V(g),k=p.top,X=p.bottom,W=p.left,A=p.right,Y=p.width,U=p.height,ie=void 0,G=void 0,re=g.scrollWidth,he=g.scrollHeight,L=b(g),me=g.scrollLeft,ee=g.scrollTop;g===c?(ie=Y<re&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),G=U<he&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(ie=Y<re&&(L.overflowX==="auto"||L.overflowX==="scroll"),G=U<he&&(L.overflowY==="auto"||L.overflowY==="scroll"));var ge=ie&&(Math.abs(A-r)<=a&&me+Y<re)-(Math.abs(W-r)<=a&&!!me),_=G&&(Math.abs(X-l)<=a&&ee+U<he)-(Math.abs(k-l)<=a&&!!ee);if(!B[f])for(var E=0;E<=f;E++)B[E]||(B[E]={});(B[f].vx!=ge||B[f].vy!=_||B[f].el!==g)&&(B[f].el=g,B[f].vx=ge,B[f].vy=_,clearInterval(B[f].pid),(ge!=0||_!=0)&&(d=!0,B[f].pid=setInterval((function(){o&&this.layer===0&&C.active._onTouchMove(We);var w=B[this.layer].vy?B[this.layer].vy*s:0,S=B[this.layer].vx?B[this.layer].vx*s:0;typeof h=="function"&&h.call(C.dragged.parentNode[z],S,w,t,We,B[this.layer].el)!=="continue"||Dt(B[this.layer].el,S,w)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&m!==c&&(m=ae(m,!1)));rt=d}},30),Mt=function(e){var n=e.originalEvent,o=e.putSortable,r=e.dragEl,l=e.activeSortable,a=e.dispatchSortableEvent,s=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(n){var d=o||l;s();var h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(h.clientX,h.clientY);c(),d&&!d.el.contains(f)&&(a("spill"),this.onSpill({dragEl:r,putSortable:o}))}};function ct(){}ct.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var r=_e(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:Mt},te(ct,{pluginName:"revertOnSpill"});function dt(){}dt.prototype={onSpill:function(e){var n=e.dragEl,o=e.putSortable,r=o||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:Mt},te(dt,{pluginName:"removeOnSpill"}),C.mount(new Uo),C.mount(dt,ct);function ut(t){t.parentElement!==null&&t.parentElement.removeChild(t)}function Lt(t,e,n){const o=n===0?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,o)}function Go(){return typeof window<"u"?window.console:global.console}const qo=Go();function Ko(t){const e=Object.create(null);return function(o){return e[o]||(e[o]=t(o))}}const Qo=/-(\w)/g,Jo=Ko(t=>t.replace(Qo,(e,n)=>n.toUpperCase())),Pt=["Start","Add","Remove","Update","End"],Ft=["Choose","Unchoose","Sort","Filter","Clone"],Ht=["Move"],ei=[Ht,Pt,Ft].flatMap(t=>t).map(t=>`on${t}`),ft={manage:Ht,manageAndEmit:Pt,emit:Ft};function ti(t){return ei.indexOf(t)!==-1}const ni=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function oi(t){return ni.includes(t)}function ii(t){return["transition-group","TransitionGroup"].includes(t)}function zt(t){return["id","class","role","style"].includes(t)||t.startsWith("data-")||t.startsWith("aria-")||t.startsWith("on")}function Rt(t){return t.reduce((e,[n,o])=>(e[n]=o,e),{})}function ri({$attrs:t,componentData:e={}}){return{...Rt(Object.entries(t).filter(([o,r])=>zt(o))),...e}}function li({$attrs:t,callBackBuilder:e}){const n=Rt(Xt(t));Object.entries(e).forEach(([r,l])=>{ft[r].forEach(a=>{n[`on${a}`]=l(a)})});const o=`[data-draggable]${n.draggable||""}`;return{...n,draggable:o}}function Xt(t){return Object.entries(t).filter(([e,n])=>!zt(e)).map(([e,n])=>[Jo(e),n]).filter(([e,n])=>!ti(e))}const Yt=({el:t})=>t,ai=(t,e)=>t.__draggable_context=e,Zt=t=>t.__draggable_context;class si{constructor({nodes:{header:e,default:n,footer:o},root:r,realList:l}){this.defaultNodes=n,this.children=[...e,...n,...o],this.externalComponent=r.externalComponent,this.rootTransition=r.transition,this.tag=r.tag,this.realList=l}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(e,n){const{tag:o,children:r,_isRootComponent:l}=this;return e(o,n,l?{default:()=>r}:r)}updated(){const{defaultNodes:e,realList:n}=this;e.forEach((o,r)=>{ai(Yt(o),{element:n[r],index:r})})}getUnderlyingVm(e){return Zt(e)}getVmIndexFromDomIndex(e,n){const{defaultNodes:o}=this,{length:r}=o,l=n.children,a=l.item(e);if(a===null)return r;const s=Zt(a);if(s)return s.index;if(r===0)return 0;const c=Yt(o[0]),d=[...l].findIndex(h=>h===c);return e<d?0:r}}function ci(t,e){const n=t[e];return n?n():[]}function di({$slots:t,realList:e,getKey:n}){const o=e||[],[r,l]=["header","footer"].map(c=>ci(t,c)),{item:a}=t;if(!a)throw new Error("draggable element must have an item slot");const s=o.flatMap((c,d)=>a({element:c,index:d}).map(h=>(h.key=n(c),h.props={...h.props||{},"data-draggable":!0},h)));if(s.length!==o.length)throw new Error("Item slot must have only one child");return{header:r,footer:l,default:s}}function ui(t){const e=ii(t),n=!oi(t)&&!e;return{transition:e,externalComponent:n,tag:n?i.resolveComponent(t):e?i.TransitionGroup:t}}function fi({$slots:t,tag:e,realList:n,getKey:o}){const r=di({$slots:t,realList:n,getKey:o}),l=ui(e);return new si({nodes:r,root:l,realList:n})}function jt(t,e){i.nextTick(()=>this.$emit(t.toLowerCase(),e))}function Wt(t){return(e,n)=>{if(this.realList!==null)return this[`onDrag${t}`](e,n)}}function hi(t){const e=Wt.call(this,t);return(n,o)=>{e.call(this,n,o),jt.call(this,t,n)}}let ht=null;const mi={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:t=>t},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},gi=["update:modelValue","change",...[...ft.manageAndEmit,...ft.emit].map(t=>t.toLowerCase())],pi=i.defineComponent({name:"draggable",inheritAttrs:!1,props:mi,emits:gi,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:t,$attrs:e,tag:n,componentData:o,realList:r,getKey:l}=this,a=fi({$slots:t,tag:n,realList:r,getKey:l});this.componentStructure=a;const s=ri({$attrs:e,componentData:o});return a.render(i.h,s)}catch(t){return this.error=!0,i.h("pre",{style:{color:"red"}},t.stack)}},created(){this.list!==null&&this.modelValue!==null&&qo.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:t,$el:e,componentStructure:n}=this;n.updated();const o=li({$attrs:t,callBackBuilder:{manageAndEmit:l=>hi.call(this,l),emit:l=>jt.bind(this,l),manage:l=>Wt.call(this,l)}}),r=e.nodeType===1?e:e.parentElement;this._sortable=new C(r,o),this.targetDomElement=r,r.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList(){const{list:t}=this;return t||this.modelValue},getKey(){const{itemKey:t}=this;return typeof t=="function"?t:e=>e[t]}},watch:{$attrs:{handler(t){const{_sortable:e}=this;e&&Xt(t).forEach(([n,o])=>{e.option(n,o)})},deep:!0}},methods:{getUnderlyingVm(t){return this.componentStructure.getUnderlyingVm(t)||null},getUnderlyingPotencialDraggableComponent(t){return t.__draggable_component__},emitChanges(t){i.nextTick(()=>this.$emit("change",t))},alterList(t){if(this.list){t(this.list);return}const e=[...this.modelValue];t(e),this.$emit("update:modelValue",e)},spliceList(){const t=e=>e.splice(...arguments);this.alterList(t)},updatePosition(t,e){const n=o=>o.splice(e,0,o.splice(t,1)[0]);this.alterList(n)},getRelatedContextFromMoveEvent({to:t,related:e}){const n=this.getUnderlyingPotencialDraggableComponent(t);if(!n)return{component:n};const o=n.realList,r={list:o,component:n};return t!==e&&o?{...n.getUnderlyingVm(e)||{},...r}:r},getVmIndexFromDomIndex(t){return this.componentStructure.getVmIndexFromDomIndex(t,this.targetDomElement)},onDragStart(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),ht=t.item},onDragAdd(t){const e=t.item._underlying_vm_;if(e===void 0)return;ut(t.item);const n=this.getVmIndexFromDomIndex(t.newIndex);this.spliceList(n,0,e);const o={element:e,newIndex:n};this.emitChanges({added:o})},onDragRemove(t){if(Lt(this.$el,t.item,t.oldIndex),t.pullMode==="clone"){ut(t.clone);return}const{index:e,element:n}=this.context;this.spliceList(e,1);const o={element:n,oldIndex:e};this.emitChanges({removed:o})},onDragUpdate(t){ut(t.item),Lt(t.from,t.item,t.oldIndex);const e=this.context.index,n=this.getVmIndexFromDomIndex(t.newIndex);this.updatePosition(e,n);const o={element:this.context.element,oldIndex:e,newIndex:n};this.emitChanges({moved:o})},computeFutureIndex(t,e){if(!t.element)return 0;const n=[...e.to.children].filter(a=>a.style.display!=="none"),o=n.indexOf(e.related),r=t.component.getVmIndexFromDomIndex(o);return n.indexOf(ht)!==-1||!e.willInsertAfter?r:r+1},onDragMove(t,e){const{move:n,realList:o}=this;if(!n||!o)return!0;const r=this.getRelatedContextFromMoveEvent(t),l=this.computeFutureIndex(r,t),a={...this.context,futureIndex:l},s={...t,relatedContext:r,draggedContext:a};return n(s,e)},onDragEnd(){ht=null}}}),_i={class:"settings-modal"},bi=["textContent"],Ci=["textContent"],yi={class:"column-settings-list"},wi={class:"list-item"},Ei={class:"actions-container"},vi=["textContent"],ki=["textContent"],Di={__name:"ColumnSettingsModal",props:{columns:{type:Array,required:!0}},emits:["save","close"],setup(t,{emit:e}){const n=e,o=t;let r=i.ref([]);function l(){n("save",r.value)}return o.columns.forEach(a=>r.value.push({...a})),(a,s)=>(i.openBlock(),i.createBlock(gt,null,{default:i.withCtx(()=>[i.createElementVNode("div",_i,[i.createElementVNode("div",{class:"settings-modal-title",textContent:i.toDisplayString(i.unref(I).getTranslate("column_settings_modal.title"))},null,8,bi),i.createElementVNode("div",{class:"settings-modal-description",textContent:i.toDisplayString(i.unref(I).getTranslate("column_settings_modal.description"))},null,8,Ci),i.createElementVNode("div",yi,[i.createVNode(i.unref(pi),{modelValue:i.unref(r),"onUpdate:modelValue":s[0]||(s[0]=c=>i.isRef(r)?r.value=c:r=c),"item-key":"key",animation:300},{item:i.withCtx(({element:c})=>[i.createElementVNode("div",wi,[i.createVNode(wo,{label:c.label,"model-value":c.visible,"onUpdate:modelValue":d=>c.visible=d},null,8,["label","model-value","onUpdate:modelValue"]),i.createVNode(F,{icon:"drag-indicator",class:"drag-indicator-icon"})])]),_:1},8,["modelValue"])]),i.createElementVNode("div",Ei,[i.createElementVNode("div",{class:"button button-cancel",onClick:s[1]||(s[1]=c=>n("close")),textContent:i.toDisplayString(i.unref(I).getTranslate("column_settings_modal.actions.cancel"))},null,8,vi),i.createElementVNode("div",{class:"button button-confirm",onClick:l,textContent:i.toDisplayString(i.unref(I).getTranslate("column_settings_modal.actions.save"))},null,8,ki)])])]),_:1}))}},Si={class:"table-controls"},xi=i.createElementVNode("div",{class:"divider"},null,-1),Ti={class:"settings-container"},Ni={__name:"TableControls",setup(t){let e=i.ref("small"),n=i.ref("black"),o=i.ref(!1),r=i.ref(!1),l=[],a=i.ref(!1),s=mt();function c(){a.value=!a.value,s.triggerEvent("toggle-search-event")}function d(m,g){e.value=m,n.value=g,s.triggerEvent("update-table-style-event",{newRowSize:m,newDigitsColor:g}),o.value=!1}function h(m){l=m,s.triggerEvent("update-table-columns-event",m),r.value=!1}function f(m){l=m}return s.addEventHandler("sync-table-columns-event",f),(m,g)=>(i.openBlock(),i.createElementBlock("div",null,[i.createElementVNode("div",Si,[i.createElementVNode("div",{onClick:c,class:i.normalizeClass(["search-button",i.unref(a)?"active":"inactive"])},[i.createVNode(F,{icon:"search",class:"search-icon"})],2),xi,i.createElementVNode("div",Ti,[i.createElementVNode("div",{onClick:g[0]||(g[0]=p=>i.isRef(r)?r.value=!0:r=!0),class:"setting"},[i.createVNode(F,{icon:"columns",class:"setting-icon"})]),i.createElementVNode("div",{onClick:g[1]||(g[1]=p=>i.isRef(o)?o.value=!0:o=!0),class:"setting"},[i.createVNode(F,{icon:"settings",class:"setting-icon"})])])]),i.unref(o)?(i.openBlock(),i.createBlock(go,{key:0,"row-size-value":i.unref(e),"digits-color-value":i.unref(n),onSave:d,onClose:g[2]||(g[2]=p=>i.isRef(o)?o.value=!1:o=!1)},null,8,["row-size-value","digits-color-value"])):i.createCommentVNode("",!0),i.unref(r)?(i.openBlock(),i.createBlock(Di,{key:1,columns:i.unref(l),onClose:g[3]||(g[3]=p=>i.isRef(r)?r.value=!1:r=!1),onSave:h},null,8,["columns"])):i.createCommentVNode("",!0)]))}},Bi={search:"Search...",column_settings_modal:{title:"Column order and visibility",description:"Changes the order and visibility of columns in the following settings:",actions:{save:"Save",cancel:"Cancel"}},style_settings_modal:{title:"Table style",description:"Changes the appearance of the table from the following settings:",sections:{row_size:{title:"Row size",options:{small:"Small",medium:"Medium",large:"Large"}},numbers_color:{title:"Numbers color",options:{black:"Black digits",color:"Positive numbers colored in green, negative numbers in red"}}},actions:{save:"Save",cancel:"Cancel"}}};function Vi(t){return{all:t=t||new Map,on:function(e,n){var o=t.get(e);o&&o.push(n)||t.set(e,[n])},off:function(e,n){var o=t.get(e);o&&o.splice(o.indexOf(n)>>>0,1)},emit:function(e,n){(t.get(e)||[]).slice().map(function(o){o(n)}),(t.get("*")||[]).slice().map(function(o){o(e,n)})}}}window.__vue3TableDataConfig={mitt:Vi(),translation:{file:Bi,setTranslate:t=>I.setTranslateFile(t)}},le.TableControls=Ni,le.TableData=Wn,Object.defineProperty(le,Symbol.toStringTag,{value:"Module"})});
